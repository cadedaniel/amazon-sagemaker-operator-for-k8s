language: go
jobs:
  include:
    - stage: "Build SMLogs"
      os: osx
      go: 1.12.x
      cache:
        directories:
          - $HOME/.cache/go-build
          - $HOME/gopath/pkg/mod
      env:
        - GO111MODULE=on
      script:
        - make
        - cd smlogs-kubectl-plugin && make build-release

    - stage: "Test"
      name: "Run Integration Tests"
      os: osx
      go: 1.12.x
      script:
        - echo "Here is where we do the testing"